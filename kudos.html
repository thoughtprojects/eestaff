<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Submit Kudos â€¢ Staff Hub</title>
  <link rel="stylesheet" href="./styles.css" />
  <style>
    .form-group {
      margin-bottom: 16px;
    }

    .form-label {
      display: block;
      margin-bottom: 6px;
      font-weight: 600;
      color: var(--text);
    }

    .form-input,
    .form-select,
    .form-textarea {
      width: 100%;
      padding: 10px 12px;
      border-radius: 10px;
      border: 1px solid rgba(34, 48, 68, .8);
      background: rgba(16, 27, 40, .6);
      color: var(--text);
      font-family: inherit;
      font-size: 14px;
    }

    .form-textarea {
      min-height: 120px;
      resize: vertical;
    }

    .form-input:focus,
    .form-select:focus,
    .form-textarea:focus {
      outline: none;
      border-color: rgba(78, 161, 255, .85);
      background: rgba(16, 27, 40, .85);
    }

    .form-hint {
      font-size: 13px;
      color: var(--muted);
      margin-top: 4px;
    }

    .checkbox-group {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .form-checkbox {
      width: 18px;
      height: 18px;
      cursor: pointer;
    }

    .submit-btn {
      margin-top: 8px;
    }

    .success-message {
      padding: 14px;
      border-radius: 12px;
      background: rgba(122, 252, 200, .15);
      border: 1px solid rgba(122, 252, 200, .4);
      color: var(--text);
      margin-bottom: 20px;
      display: none;
    }

    .success-message.show {
      display: block;
    }
  </style>
</head>

<body>
  <header class="topbar">
    <div class="container">
      <div class="brand">
        <div class="logo" aria-hidden="true">S</div>
        <div>
          <div class="brand-title">Staff Hub</div>
          <div class="brand-subtitle">Submit Kudos</div>
        </div>
      </div>

      <nav class="nav">
        <a class="nav-link" href="./index.html">Home</a>
        <a class="nav-link" href="./links.html">Links</a>
        <a class="nav-link" href="./dashboards.html">Dashboards</a>
        <a class="nav-link" href="./forms.html">Forms</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <section class="page-head">
      <h1>Give Kudos ðŸŽ‰</h1>
      <p class="muted">
        Recognize a colleague for their great work! Your kudos will appear on the homepage for everyone to see.
      </p>
    </section>

    <section class="stack">
      <div class="group narrow">
        <div id="successMessage" class="success-message">
          <strong>âœ“ Kudos submitted successfully!</strong><br>
          Your recognition will appear on the homepage shortly.
        </div>

        <form id="kudosForm">
          <div class="form-group">
            <label class="form-label" for="fromName">Your Name</label>
            <input
              type="text"
              id="fromName"
              class="form-input"
              placeholder="Enter your name"
              required
            />
            <div class="form-hint">Or leave blank to submit anonymously</div>
          </div>

          <div class="form-group">
            <label class="form-label" for="toName">Who are you recognizing? *</label>
            <input
              type="text"
              id="toName"
              class="form-input"
              placeholder="Team member name or team name"
              required
            />
          </div>

          <div class="form-group">
            <label class="form-label" for="category">Category *</label>
            <select id="category" class="form-select" required>
              <option value="">-- Select a category --</option>
              <option value="Great Work">Great Work</option>
              <option value="Teamwork">Teamwork</option>
              <option value="Going Above & Beyond">Going Above & Beyond</option>
              <option value="Problem Solving">Problem Solving</option>
              <option value="Customer Service">Customer Service</option>
              <option value="Innovation">Innovation</option>
              <option value="Other">Other</option>
            </select>
          </div>

          <div class="form-group">
            <label class="form-label" for="message">Your Message *</label>
            <textarea
              id="message"
              class="form-textarea"
              placeholder="What do you want to recognize them for?"
              required
            ></textarea>
            <div class="form-hint">Be specific and genuine!</div>
          </div>

          <button type="submit" class="btn block submit-btn">
            Submit Kudos
          </button>
        </form>
      </div>
    </section>

    <footer class="footer muted">
      <span>Staff Hub</span><span class="dot">â€¢</span><span id="buildInfo"></span>
    </footer>
  </main>

  <script src="./app.js"></script>
  <script>
    // Handle form submission
    document.getElementById('kudosForm').addEventListener('submit', async function(e) {
      e.preventDefault();

      const fromName = document.getElementById('fromName').value.trim() || 'Anonymous';
      const toName = document.getElementById('toName').value.trim();
      const category = document.getElementById('category').value;
      const message = document.getElementById('message').value.trim();

      const kudosData = {
        id: 'k' + Date.now(), // Generate unique ID
        from: fromName,
        to: toName,
        category: category,
        message: message,
        date: new Date().toISOString(),
        status: 'pending', // Will be approved by admin
        pinned: false
      };

      // In a real implementation, this would POST to your backend
      // For now, we'll simulate success and store in localStorage
      try {
        // Get existing pending kudos from localStorage
        let pending = JSON.parse(localStorage.getItem('pendingKudos') || '[]');
        pending.push(kudosData);
        localStorage.setItem('pendingKudos', JSON.stringify(pending));

        // Show success message
        document.getElementById('successMessage').classList.add('show');
        
        // Reset form
        this.reset();

        // Scroll to top
        window.scrollTo({ top: 0, behavior: 'smooth' });

        // Hide success message after 5 seconds
        setTimeout(() => {
          document.getElementById('successMessage').classList.remove('show');
        }, 5000);

      } catch (error) {
        alert('There was an error submitting your kudos. Please try again.');
        console.error('Error:', error);
      }
    });
  </script>
</body>
</html>
